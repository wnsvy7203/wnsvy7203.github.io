---
title: "[BOJ] 9505. μ—”ν„°ν”„λΌμ΄μ¦νΈ νƒμ¶ (C++)"
date: 2023-12-14 23:47:00 +09:00
categories: [Algorithm, BOJ]
tags: [Algorithm, BOJ, C++, κ·Έλν”„ μ΄λ΅ , κ·Έλν”„ νƒμƒ‰, λ‹¤μµμ¤νΈλΌ, Gold 4]
---
## **λ¬Έμ **
[acmicpc.net/problem/9505](https://www.acmicpc.net/problem/9505)
<br>

μ—”ν„°ν”„λΌμ΄μ¦νΈκ°€ ν΄λ§μ¨μ—κ² ν¬μ„λμ—λ‹¤! κ°€μ¥ λΉ λ¥Έ μ‹κ°„ λ‚΄μ— λ‚κ° μ μλ” νƒμ¶ λ£¨νΈλ¥Ό μ°Ύκ³  κ·Έ μ‹κ°„μ„ μ¶λ ¥ν•λΌ.

μ§μ‚¬κ°ν•μ ν‰λ©΄μ΄ μ…λ ¥μΌλ΅ μ£Όμ–΄μ§€λ©°, μ΄λ” μ—”ν„°ν”„λΌμ΄μ¦νΈμ™€ ν΄λ§μ¨ μ „ν¬μ„ λ“¤μ μ„μΉλ“¤μ„ μλ―Έν•λ‹¤. ν΄λ§μ¨ μ „ν¬μ„ μ€ λ‡ κ°€μ§€μ ν΄λμ¤λ΅ λ‚λ„μ–΄μ§€λ©°, κ° ν΄λμ¤μ ν΄λ§μ¨ μ „ν¬μ„ μ„ μ—”ν„°ν”„λΌμ΄μ¦νΈκ°€ λ¬΄λ ¥ν™” μ‹ν‚¤λ” λ°μ— κ±Έλ¦¬λ” μ‹κ°„λ„ μ…λ ¥μΌλ΅ μ£Όμ–΄μ§„λ‹¤. μ—”ν„°ν”„λΌμ΄μ¦νΈλ” νƒμ¶ν•λ” κ²½λ΅μ— μλ” λ¨λ“  ν΄λ§μ¨ μ „ν¬μ„ μ„ λ¬΄λ ¥ν™” μ‹ν‚¤λ©° μ…λ ¥λ ν‰λ©΄μ κ°€μ¥μλ¦¬λ΅ νƒμ¶ν•λ‹¤. μ…λ ¥λ ν‰λ©΄μ λ‹¨μ„ μ‚¬κ°ν•μ€ κΌ­μ§“μ μ΄ μ•„λ‹ κ°€μ¥μλ¦¬λ΅λ§ μ—°κ²°λλ‹¤. (μ¦‰, κ° λ‹¨μ„ μ‚¬κ°ν•μ€ 4κ°μ μ΄μ›ƒ λ‹¨μ„ μ‚¬κ°ν•μ„ κ°–λ”λ‹¤.)
<br>

## **μ…λ ¥**
μ²«μ§Έ μ¤„μ— **ν…μ¤νΈ μΌ€μ΄μ¤μ κ°μ T** (2 β‰¤ T β‰¤ 100)κ°€ μ£Όμ–΄μ§„λ‹¤.

κ° μΌ€μ΄μ¤λ” μ²« μ¤„μ— μ„Έκ°μ μ«μ **K, W, H**κ°€ μ£Όμ–΄μ§„λ‹¤.

**K** (1 β‰¤ K β‰¤ 25)λ” **ν΄λ§μ¨ μ „ν¬μ„ μ ν΄λμ¤ κ°μ**λ¥Ό μλ―Έν•λ‹¤.

**W** (1 β‰¤ W β‰¤ 1000)λ” **ν‰λ©΄μ ν­**μ„ μλ―Έν•λ‹¤.

**H** (1 β‰¤ H β‰¤ 1000)λ” **ν‰λ©΄μ λ†’μ΄**λ¥Ό μλ―Έν•λ‹¤.

<br>

λ‹¤μ **K μ¤„**μ—λ” **ν΄λ§μ¨ μ „ν¬μ„ μ ν΄λμ¤ μ΄λ¦„**κ³Ό **λ¬΄λ ¥ν™”μ‹ν‚¤λ” λ°μ— κ±Έλ¦¬λ” μ‹κ°„**μ΄ μ£Όμ–΄μ§„λ‹¤.

**ν΄λ§μ¨ μ „ν¬μ„ μ ν΄λμ¤ μ΄λ¦„**μ€ μ•νλ²³ λ€λ¬Έμλ΅ μ£Όμ–΄μ§€λ©°, "E" κ°€λ  μ μ—†λ‹¤. ν΄λμ¤μ μ΄λ¦„μ€ κ²ΉμΉ  μ μ—†λ‹¤.

**λ¬΄λ ¥ν™”μ‹ν‚¤λ” λ°μ— κ±Έλ¦¬λ” μ‹κ°„**μ€ 'λ¶„'μ„ λ‚νƒ€λ‚΄λ©° 0 μ΄μƒ, 100,000 μ΄ν•μ΄λ‹¤.

λ‹¤μ **H μ¤„**μ—λ” **W κ°**μ μ•νλ²³ λ€λ¬Έμκ°€ μ£Όμ–΄μ§„λ‹¤. (κ° λ¬Έμ μ‚¬μ΄μ—λ” κ³µλ°±μ΄ μ—†λ‹¤.)

H μ¤„μ W κ° λ¬Έμ μ¤‘,

**"E"**λ” **μ—”ν„°ν”„λΌμ΄μ¦νΈμ μ„μΉ**λ¥Ό μλ―Έν•λ©°, **λ°λ“μ‹ ν•λ‚λ§ μ£Όμ–΄μ§„λ‹¤.**

"E"κ°€ μ•„λ‹ **λ‹¤λ¥Έ λ¨λ“  λ¬Έμ**λ” **ν•΄λ‹Ή λ‹¨μ„ ν‰λ©΄μ— μ„μΉν• ν΄λ§μ¨ μ „ν¬μ„ **μ **ν΄λμ¤**μ΄κ³ , λ°λ“μ‹ μ„ K μ¤„μ—μ„ λ¬΄λ ¥ν™”μ‹ν‚¤λ” λ°μ— κ±Έλ¦¬λ” μ‹κ°„κ³Ό ν•¨κ» μ£Όμ–΄μ§„λ‹¤.
<br>

## **μ¶λ ¥**
μ—”ν„°ν”„λΌμ΄μ¦νΈκ°€ νƒμ¶ν•λ” λ°μ— κ±Έλ¦¬λ” μµμ† μ‹κ°„μ„ μ •μλ΅ μ¶λ ¥ν•λΌ.
<br>

## **μ²΄κ° λ‚μ΄λ„**
π©π©β¬β¬β¬
<br>

## **ν’€μ΄**
μ…λ ¥λ§ μ λ°›μΌλ©΄ μ–΄λ ¤μ΄ λ¬Έμ λ” μ•„λ‹λ‹¤. μΌλ°μ μΈ λ‹¤μµμ¤νΈλΌ λ¬Έμ μ΄μ§€λ§, μ™„μ „ νƒμƒ‰μ„ ν•λ©΄μ„ μµμ† λΉ„μ© κ²½λ΅λ¥Ό μ°Ύμ•„μ•Ό ν•κΈ° λ•λ¬Έμ— μ‹κ°„μ΄ μ¤λ κ±Έλ¦°λ‹¤.

1. κ° ν…μ¤νΈμΌ€μ΄μ¤ λ³„λ΅ K μ¤„μ— μ£Όμ–΄μ§„ ν΄λ§μ¨ μ „ν¬μ„ μ ν΄λμ¤ μ΄λ¦„κ³Ό λ¬΄λ ¥ν™”μ‹ν‚¤λ” λ° κ±Έλ¦¬λ” μ‹κ°„μ„ `v` λ°°μ—΄μ— μ €μ¥ν•΄λ‘”λ‹¤.
2. μ—”ν„°ν”„λΌμ΄μ¦νΈμ μ„μΉ("E"μ μ„μΉ)λ¥Ό μ €μ¥ν•΄λ‘κ³ , κ·Έ μ„μΉλ¥Ό μ‹μ‘μ μΌλ΅ μ΅λ”λ‹¤.
3. μ „ν¬μ„  λ¬΄λ ¥ν™” μ‹κ°„μ΄ μλ‹¤λ” κ²ƒμ— μ£Όμν•μ—¬ λ‹¤μµμ¤νΈλΌλ¥Ό μν–‰ν•λ‹¤.
4. ν„μ¬ μ„μΉκ°€ λ¨μ„λ¦¬μΈ κ²½μ°μ μµμ†κ°’μ„ μ§€μ†μ μΌλ΅ μ—…λ°μ΄νΈν•λ‹¤.
<br>

## **μ •λ‹µ μ½”λ“**
```c++
// 3848ms

#include <iostream>
#include <vector>
#include <queue>
#include <tuple>

#define INF 1000 * 100'000

using namespace std;

int T, K, W, H;
int board[1001][1001];
int dr[4] = {-1, 1, 0, 0};
int dc[4] = {0, 0, -1, 1};

int visited[1001][1001];
priority_queue<tuple<int, int, int>, vector<tuple<int, int, int>>, greater<tuple<int, int, int>>> pque;
void dijkstra(int a, int b)
{
    fill_n(&visited[0][0], 1001 * 1001, INF);
    pque.push({0, a, b});
    visited[a][b] = 0;

    int res = INF;

    while (!pque.empty())
    {
        int cost = get<0>(pque.top());
        int r = get<1>(pque.top());
        int c = get<2>(pque.top());
        pque.pop();

        if (r == 0 || r == H-1 || c == 0 || c == W-1)
            res = min(res, visited[r][c]);

        if (visited[r][c] < cost)
            continue;

        for (int d = 0; d < 4; d++)
        {
            int nr = r + dr[d];
            int nc = c + dc[d];

            if (nr < 0 || nc < 0 || nr >= H || nc >= W)
                continue;
            
            if (visited[nr][nc] > visited[r][c] + board[nr][nc])
            {
                visited[nr][nc] = visited[r][c] + board[nr][nc];
                pque.push({visited[nr][nc], nr, nc});
            }
        }
    }

    cout << res << '\n';
}

int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    cin >> T;
    while (T--)
    {
        vector<pair<char, int>> v;
        cin >> K >> W >> H;
        while (K--)
        {
            char c;
            int num;
            cin >> c >> num;
            v.push_back({c, num});
        }

        int y, x;

        for (int i = 0; i < H; i++)
        {
            string str;
            cin >> str;
            for (int j = 0; j < W; j++)
            {
                if (str[j] == 'E')
                {
                    y = i;
                    x = j;
                }

                for (pair<char, int> p : v)
                    if (str[j] == p.first)
                        board[i][j] = p.second;
            }
        }

        dijkstra(y, x);
    }
}
```