---
title: "[프로그래머스] Lv.2 두 원 사이의 정수 쌍 (C++)"
date: 2024-02-14 12:48:00 +09:00
categories: [Algorithm, 프로그래머스]
tags: [Algorithm, 프로그래머스, C++, Lv.2]
use_math: true
---
## **문제**
[[연습문제] 두 원 사이의 정수 쌍](https://school.programmers.co.kr/learn/courses/30/lessons/181187)

x축과 y축으로 이루어진 2차원 직교 좌표계에 중심이 원점인 서로 다른 크기의 원이 두 개 주어집니다. 반지름을 나타내는 두 정수 `r1`, `r2`가 매개변수로 주어질 때, 두 원 사이의 공간에 x좌표와 y좌표가 모두 정수인 점의 개수를 return하도록 solution 함수를 완성해주세요.

※ 각 원 위의 점도 포함하여 셉니다.
<br>

## **제한사항**
- 1 ≤ r1 < r2 ≤ 1,000,000
<br>

## **체감 난이도**
🟩🟩⬜⬜⬜
<br>

## **풀이**
혹시나 규칙이 있는 다이나믹 프로그래밍 문제인가 고민해 봤지만, 규칙성을 발견할 수는 없었다.

일단 중심이 원점이라고 했기 때문에, 각 사분면마다 해당되는 점의 개수를 구해서, 곱하기 4 하면 되지 않을까 먼저 생각해봤다. 원 안에 포함되는 좌표의 개수는 1사분면과 x축을 기준으로 생각해서 문제를 우선 풀고 4를 곱해주면 되겠다고 생각했다.

1. 생각을 쉽게 하기 위해, 앞서 설명한 대로 **1사분면과 x축을 기준**으로만 답을 구한다.
2. 원점을 중심으로 하는 반지름이 `r1`, `r2`인 4분원 `O1`, `O2`가 있다고 가정한다.
3. 중심이 (0, 0)이고 반지름이 `r`인 원의 방정식이 $x^2 + y^2 = r^2$인 것을 활용하여 $y^2 = r^2 - x^2$이라는 방정식을 도출할 수 있다. **결국 $y = \sqrt{r^2 - x^2}$가 성립함**을 알 수 있다.
4. 각 x 좌표마다, `O1` 바깥의 y좌표 중 최솟값 `min_y`를 구하고, `O2` 안의 y좌표 중 최댓값 `max_y`를 구한다.
<br>

## **정답 코드**
```c++
#include <string>
#include <vector>
#include <cmath>

using namespace std;

long long ans;

long long solution(int r1, int r2) {    
    for (long long i = 1; i <= r2; i++)
    {
        // 현재 x 좌표에서 4분원 O1 바깥의 y좌표 중 최솟값
        long long min_y = ceil(sqrt((long long)r1 * r1 - i * i));

        // 현재 x 좌표에서 4분원 O2 안의 y좌표 중 최댓값
        long long max_y = floor(sqrt((long long)r2 * r2 - i * i));
        
        // x 좌표가 i일 때의 y 좌표 개수를 더한다.
        ans += (max_y - min_y + 1);
    }
    
    // 4개의 사분면이 있으므로 4를 곱해주면, 전체 정수 좌표의 개수를 구할 수 있다.
    ans *= 4;
    return ans;
}
```