---
title: "[Next.js] Next 14 - Parallel Routes"
date: 2024-03-08 14:33:00 +09:00
categories: [Development, Next.js]
tags: [Development, javaScript, typeScript, React, Next.js, Next 14, Web, Frontend]
---
## **1. 시작하며**
***
Parallel Routes는 하나의 레이아웃에 하나 이상의 페이지를 동시에 표시하는 기능이다. 대표적인 예시로, SNS의 피드와 같이 동적인 섹션을 구성하는데 유용하다. 결국 이것은 모달 창을 쉽게 띄우기 위해 사용하는 방법이다. Next.js는 디렉토리의 형태와 이름에 따라 기능이 달라지기 때문에 디렉토리 구조와 이름을 구성하는 것이 중요하다.
<br>

## **2. Slots**
***
Parallel routes는 `slots`를 통해 생성된다. `slots`는 폴더 이름 앞에 `@`를 붙이는 방식으로 정의되는데, 이 방식을 통해 공유된 부모 레이아웃에 props로 전달된다. `slots`는 url 구조에 영향을 주지는 않는다.
<br>

## **3. Active state and navigation**
***
기본적으로 Next.js는 각 slot의 하위 페이지를 추적한다. 그러나 slot 내에서 렌더링되는 컨텐츠는 탐색 유형에 따라 달라진다.
- Soft Navigation: 클라이언트 탐색 중에 Next.js는 일부분만 렌더링하여 slot 내의 하위 페이지를 변경하는 동시에, 다른 slot의 활성화된 하위 페이지가 현재 url과 일치하지 않더라도 유지한다.

<br>

## **4. 세션**
***
클라이언트가 로그인한 정보를 서버가 갖고 있게 되는 것을 의미한다. 누가 어디서 어떻게 접속했는지에 관한 정보들을 담는다.

중복 로그인을 방지하기 위해서는 세션을 사용해야 한다. 중복 접근을 하게 되면 기존의 세션을 서버에서 삭제하고 새로운 세션을 생성해서 저장하는 구조이다.
<br>

## **5. 토큰**
***
로그인을 실제로 하게 되면 서버에는 아무것도 저장하지 않고, 인증키를 유저에게 부여하게 되는 것이다. 세션과 다른 점은, 서버에 아무 정보가 없다는 것이다(데이터베이스에서 뽑아낼 수 있는 데이터가 없다).

문제는, 토큰에는 토큰을 사용하는 유저와 토큰을 발급받은 유저가 같은지 아닌지 여부를 검증하는 시스템이 없기 때문에, 토큰을 탈취당하는 그 즉시 다른 유저들이 사용할 수 있다. 편리하면 그만큼 보안이 취약하다는 것을 유의해야 한다.
<br>

## **6. JWT(Json Web Token)**
***
![Imgur](https://i.imgur.com/FNBulNl.png)


### 1. 기본 설정


<br>
